# Copyright 2022 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/rust/rs_bindings_from_cc.gni")
import("//build/rust/rust_executable.gni")

rust_executable("test_rs_bindings_from_cc") {
  crate_root = "main.rs"
  sources = [ "main.rs" ]
  deps = [ ":self_contained_header_rs_api" ]
  build_native_rust_unit_tests = true
}

rs_bindings_from_cc("self_contained_header_rs_api") {
  public_header = "self_contained_header.h"
  deps = [ ":self_contained_header" ]
}

source_set("self_contained_header") {
  sources = [ "self_contained_header.h" ]
}
